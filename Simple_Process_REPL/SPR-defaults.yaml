REPL:
    prompt        : 'SPR:> '

ssh:
    pemfile       : 'server.pem'
    ssh_server    : 'ubuntu@ec2-11-111-111-11.us-east-2.compute.amazonaws.com'

# anything less than this many digits get's left padded with 0's.
bcqr_minumum_length: 6

QR_code:
    filename_suffix: 'QR'
    prefix: 'K1'
    suffix: 'A'
    save_path: 'qrcodes'
    font: DejaVuSans.ttf
    font_size: 18
barcode:
    filename_suffix: 'BC'
    prefix: ''
    suffix: ''
    save_path: 'barcodes'
    save_options:
        module_height: 8
        text_distance: 2

print_commands:
    linux:
        default: 'echo "Sorry I dont know how to print this %s"'
    windows:
        default: 'echo "Sorry I dont know how to print this %s"'
        brother: "brother_ql -m QL-700 -p usb://04f9:2042 print -l 29 %s"
    darwin:
        default: 'echo "Sorry I dont know how to print this %s"'
        brother: "brother_ql -m QL-700 -p usb://04f9:2042 print -l 29 %s"

images:
    flash   : 'foo.bin'
    test    : 'fooTest.bin'

files:
    logfile       : 'SPR.log'
    loglevel      : 'info'

    config_file   : 'SPRConfig.yaml'

serial:
    baudrate      : 9600

test:
    start_string    : 'Initial response from Test'
    response_string : '!'
    fail_regex      : '^F:.*'
    done_regex      : '^I:Test All Done'
    do_qqc_regex    : '^I:Now Setting Serial Number'
    do_qqc_func     : input-serial

#number of seconds to wait for a response from board and from the test.
waiting:
    timeout      : 30
    pause_time   : 5


dialogs :
    title : 'Particle Board Interface'
    plugin_start     : 'Plug in a new device, press OK to start'
    ready_to_test    : 'Device: $device_id, press OK to test'
    ready_to_flash   : 'Device: $device_id, press OK to flash'
    device_failed    : 'Device Failed!'
    device_success   : 'Device Succeeded!'
    start_again      : 'Setup another device ? '
    continue_to_next : 'Choice?  Press Y/y to congure another device: '
    input_serial     : 'Please input the 8 digit serial number.'
    images_seen      : 'Please verify the test image is shown on the screen.'
    serial_is_correct : 'This serial number is correct?'
    serial_must      : 'Serial Number must be 8 digits.'
    continue         : 'Ready to Continue ?'
    process_finish   : 'Turn the Power Switch Off and Disconnect the Test Battery and USB.'
    hellomsg         : "You have received this message because your autoexec attribute is
        set to 'hello' or None, or can't be found. Maybe make some new commands
        to create some processes. When you get a command you want to run
        automatically set autoexec exec/autoexec in the config file to it's name.
        Here are the commands the interpreter currently recognizes."

exec:
    # function name to autoexec when asked to run

    autoexec : hello

    help: app-help

    functions :
        input-sn :
            fn  : input-string-to "Enter a Serial Number" device serial_number
            doc : "Dialog, To set the device serial number."
        input-bcqr :
            fn  : input-string-to "Enter a code for barcode generation" BarQR value
            doc : "Dialog, To set the value to be encoded into a bar or QR code."
        print-codes :
            fn  : input-bcqr dialog-print-bcqr
            doc : "Dialogs, To input a string, then print bar or QR codes from it."
        get-barcode :
            fn  : get-bcqr barcode
            doc : "Generate the current barcode."
        save-barcode :
            fn  : save-bcqr barcode
            doc : "Save the current barcode."
        print-barcode :
            fn  : print-bcqr barcode
            doc : "Print the currently saved barcode."
        get-qrcode :
            fn  : get-bcqr QR_code
            doc : "Generate the current QR code."
        save-qrcode :
            fn  : save-bcqr QR_code
            doc : "Save the current QR code."
        print-qrcode :
            fn  : print-bcqr QR_code
            doc : "Print the currently saved QR code."

        set-bcqr-from-serial :
            fn  : set-bcqr-from device serial_number
            doc : "set the bcqr value to that of the device serial number."
        print-serial-qrcode :
            fn  : set-bcqr-from-serial get-qrcode save-qrcode print-qrcode
            doc : "Print the device serial number as a QR code."
        print-serial-barcode :
            fn  : set-bcqr-from-serial get-qrcode save-qrcode print-barcode
            doc : "Print the device serial number as a barcode."
